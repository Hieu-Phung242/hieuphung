<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>The Hoodia Case Study - Disputed Rights, Shared Benefits, and Indigenous Epistemologies</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./site_logo/logo2.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./resume.html"> 
<span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-remote-sensing" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Remote Sensing</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-remote-sensing">    
        <li>
    <a class="dropdown-item" href="./final_project.html">
 <span class="dropdown-text">Detecting Change of AGB in Ghana</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./gem520_finallab.html">
 <span class="dropdown-text">Analysis of Burn Severity and Vegetation Recovery at Prouton Lake, BC</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./gem521_lab5.html">
 <span class="dropdown-text">Individual Trees Detecting using different methods</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./gem510_lab3.html">
 <span class="dropdown-text">Analysis of Suitable Sanctuaries for Humpback Whales</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./gem510_lab5.html">
 <span class="dropdown-text">Least Cost Path Analysis for Grizzly Bear</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./gem511_lab2.html">
 <span class="dropdown-text">Salmon Stream Network Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./gem520_lab6.html">
 <span class="dropdown-text">Image Classification using R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./gem521_lab8.html">
 <span class="dropdown-text">Image Classification using eCognition</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./gem521_lab9.html">
 <span class="dropdown-text">Image Classification using Google Earth Engine</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./gem500_proposal.html">
 <span class="dropdown-text">Evaluating the Impact of Landsacape Fragmentation on Carbon Sequestration of Forests in Kwahu South, Ghana using Landscape Metrics and Landsat 8 Data</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-environmental-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Environmental Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-environmental-projects">    
        <li>
    <a class="dropdown-item" href="./thesis1.html">
 <span class="dropdown-text">Molten Salt Carbonate Electrolysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./thesis2.html">
 <span class="dropdown-text">Effect of Nanoparticles on TiO2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./water_and_wastewater.html">
 <span class="dropdown-text">Design of Water, Wastewater, and Sludge Treatment</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./water_and_sewer.html">
 <span class="dropdown-text">Water and Sewer Network Design</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-communication-skills-and-indigenous-knowledge" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Communication Skills and Indigenous Knowledge</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-communication-skills-and-indigenous-knowledge">    
        <li>
    <a class="dropdown-item" href="./san_hoodia.html">
 <span class="dropdown-text">The Hoodia Case Study. Disputed Rights, Shared Benefits, and Indigenous Epistemologies</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./negotiation_exercise.html">
 <span class="dropdown-text">Conflict Style Negotiation and Reflection</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#applied-skills" id="toc-applied-skills" class="nav-link active" data-scroll-target="#applied-skills">Applied Skills</a></li>
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background">Background</a></li>
  <li><a href="#description-of-ontologyworldview-of-the-rightholders-and-stakeholders" id="toc-description-of-ontologyworldview-of-the-rightholders-and-stakeholders" class="nav-link" data-scroll-target="#description-of-ontologyworldview-of-the-rightholders-and-stakeholders">Description of ontology/worldview of the rightholders and stakeholders</a></li>
  <li><a href="#recognition-of-the-san-as-traditional-knowledge-holders" id="toc-recognition-of-the-san-as-traditional-knowledge-holders" class="nav-link" data-scroll-target="#recognition-of-the-san-as-traditional-knowledge-holders">Recognition of the San as Traditional Knowledge Holders</a></li>
  <li><a href="#transboundary-challenges-in-the-governance-of-hoodia" id="toc-transboundary-challenges-in-the-governance-of-hoodia" class="nav-link" data-scroll-target="#transboundary-challenges-in-the-governance-of-hoodia">Transboundary Challenges in the Governance of Hoodia</a></li>
  <li><a href="#concerns-with-commercialization-and-benefit-sharing" id="toc-concerns-with-commercialization-and-benefit-sharing" class="nav-link" data-scroll-target="#concerns-with-commercialization-and-benefit-sharing">Concerns with Commercialization and Benefit Sharing</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Hoodia Case Study - Disputed Rights, Shared Benefits, and Indigenous Epistemologies</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="applied-skills" class="level2">
<h2 class="anchored" data-anchor-id="applied-skills">Applied Skills</h2>
<div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1.5rem;">
<p><span style="background-color: #1f3c73; color: white; padding: 0.5rem 1rem; border-radius: 0.5rem;">Writing</span></p>
<p><span style="background-color: #1f3c73; color: white; padding: 0.5rem 1rem; border-radius: 0.5rem;">Literature Research</span></p>
<p><span style="background-color: #1f3c73; color: white; padding: 0.5rem 1rem; border-radius: 0.5rem;">Indigenous Knowledge</span></p>
</div>
</section>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>The San-Hoodia case is a key example of how Indigenous knowledge can connect with science, business, and international laws. It shows the challenges of recognizing traditional knowledge as a type of intellectual property and making sure Indigenous communities are fairly rewarded for their knowledge. In this case, the San people had used the Hoodia plant for centuries to suppress hunger. This knowledge later attracted scientists and pharmaceutical companies. As Hoodia became more commercially valuable, the case raised important issues about consent, ownership, and fair sharing of benefits. It has since played an important role in global discussions about Indigenous rights and bioprospecting.</p>
</section>
<section id="description-of-ontologyworldview-of-the-rightholders-and-stakeholders" class="level2">
<h2 class="anchored" data-anchor-id="description-of-ontologyworldview-of-the-rightholders-and-stakeholders">Description of ontology/worldview of the rightholders and stakeholders</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">The San People</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">The Council for Scientific and Industrial Research (CSIR)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Phytopharm</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Southern African Hoodia Growers Association (SAHGA)</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>The San people view Hoodia as a traditional resource with cultural and practical significance. They have used Hoodia as a food, a drink substitute and appetite suppressant. The San also use Hoodia for other purposes “recounted variously as to improve virility; to cure or treat hangovers, haemorrhoids, high blood pressure, pulmonary tuberculosis, stomach pains, flu, asthma and eye pain.” (Wynberg &amp; Chennells, 2009). This suggests that the San see Hoodia as an integral part of their traditional knowledge and lifestyle, viewing it as a valuable plant that supports their survival in harsh conditions. Their ontology emphasizes communal sharing of knowledge and resources, contrasting with Western notions of intellectual property and commercialization. The San view their traditional knowledge of Hoodia as collective intellectual property that should not be owned by any individual or entity (Wynberg &amp; Chennells, 2009). The evidence for this ontology is “Traditional knowledge of plants is viewed as collective and the idea of ‘owning’ life is abhorrent.” (Wynberg &amp; Chennells, 2009).</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>CSIR initially viewed Hoodia as a potential commercial product, recognizing its properties for development into an appetite suppressant and anti-obesity drug (Leveraging Economic Growth through Benefit Sharing, n.d.). They patented the findings and pursued partnerships with companies like Phytopharm and Pfizer to commercialize the plant’s potential. This ontology treats Hoodia as a resource to be studied, modified, and exploited for profit, prioritizing intellectual property rights and market potential over the traditional knowledge systems that initially guided their research. The evidence for this statement is found in this sentence “In 1998, CSIR signed a licensing agreement for further development and commercialization of the product” (Wynberg &amp; Chennells, 2009).</p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>Phytopharm’s worldview of Hoodia was primarily commercial. They saw it as a business opportunity, patenting the active ingredient P57 and promoting it as a potential natural cure for obesity. Their initial approach overlooked the indigenous knowledge source, as evidenced by their chief executive’s belief that the people who discovered the plant’s effects had disappeared. “Phytopharm’s Richard Dixey as having been told by the CSIR that the 100000 strong San ‘no longer existed’.” (Wynberg &amp; Chennells, 2009).</p>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<p>SAHGA represents commercial Hoodia cultivators in Southern Africa who are primarily concerned with cultivating Hoodia for the herbal and dietary supplement market (Wynberg &amp; Chennells, 2009). The SAHGA appears to view Hoodia primarily as a commercial crop with significant economic potential. This is evidenced by their agreement to pay a percentage of farmgate sales to the Working Group of Indigenous Minorities in Southern Africa (WIMSA) (Amusan, 2016). Unlike Phytopharm, SAHGA’s perspective is closer to the ground, with an emphasis on the cultivation process, environmental sustainability, and local economic benefits. While they acknowledge the San’s role as traditional knowledge holders, their engagement is shaped by compliance with biodiversity and bioprospecting legislation rather than cultural or moral obligations.</p>
</div>
</div>
</div>
<div class="{html}">
<p><img src="images/hoodia_plant.png" alt="San Hoodia Plant" width="600px"></p>
</div>
<p><em>San Hoodia Flora (Wikimedia Common, CC-BY-SA-4.0)</em></p>
</section>
<section id="recognition-of-the-san-as-traditional-knowledge-holders" class="level2">
<h2 class="anchored" data-anchor-id="recognition-of-the-san-as-traditional-knowledge-holders">Recognition of the San as Traditional Knowledge Holders</h2>
<p>This section outlines the key reasons why the San were ultimately recognized as the legitimate holders of traditional knowledge related to Hoodia. The first reason for naming the San as the holders of the traditional knowledge of Hoodia is their historical precedence. The San are recognized as the oldest human inhabitants of southern Africa, having lived as hunters and gatherers in the region for thousands of years. This long-standing presence supports their claims as the original holders of Hoodia-related knowledge, predating other groups who later migrated to the region.</p>
<p>The second reason is the documented early use. As it was written in the article of Wynberg &amp; Chennels, (2009), colonial botanical accounts, such as those by Francis Masson in 1798 and Rudolf Marloth in 1932, specifically mention the San’s use of Hoodia as an appetite suppressant and thirst quencher. These early documentations directly link the traditional knowledge of Hoodia to the San, strengthening their claims as the primary holders of this knowledge.</p>
</section>
<section id="transboundary-challenges-in-the-governance-of-hoodia" class="level2">
<h2 class="anchored" data-anchor-id="transboundary-challenges-in-the-governance-of-hoodia">Transboundary Challenges in the Governance of Hoodia</h2>
<p>One of the key transboundary challenges in the governance of Hoodia was the shared distribution of both the plant and the associated traditional knowledge across national borders. Hoodia grows naturally in South Africa, Namibia, and Botswana, and its uses have been known among various Indigenous groups within these regions. While the San were officially recognized as the primary holders of Hoodia-related knowledge, other communities such as the Nama, Damara, and Topnaar also had documented histories of using the plant. This overlap created tension around the rightful ownership of knowledge and the fair distribution of benefits. To address this, the San, through the Working Group of Indigenous Minorities in Southern Africa (WIMSA), adopted a unified stance by declaring that their cultural heritage was indivisible. As a result, benefit-sharing was structured to be distributed equally among all San peoples, regardless of their national location—helping to avoid internal conflict and facilitate cross-border negotiations.</p>
<p>Another major challenge stemmed from the differences in national legal and policy frameworks related to bioprospecting and traditional knowledge. South Africa had a formal legislative structure, including the Biodiversity Act, which mandated benefit-sharing agreements. However, at the time, Namibia and Botswana lacked equivalent laws, which made it difficult to align benefit-sharing mechanisms across countries. These discrepancies posed significant hurdles in ensuring fairness, legal compliance, and consistency in implementation. To overcome these issues, WIMSA and legal representatives of the San worked closely with the Council for Scientific and Industrial Research (CSIR) to design agreements that were adaptable to different legal contexts, while still protecting the collective rights of the San across all three countries.</p>
</section>
<section id="concerns-with-commercialization-and-benefit-sharing" class="level2">
<h2 class="anchored" data-anchor-id="concerns-with-commercialization-and-benefit-sharing">Concerns with Commercialization and Benefit Sharing</h2>
<p>Many San community members expressed dissatisfaction with the way Hoodia was commercialized and how benefit-sharing agreements were handled. A primary concern was the lack of meaningful involvement and access to information during the negotiation process. Although legislation to protect Indigenous knowledge was being developed in South Africa, the San were not consulted about its scope or content. As a result, they were left to negotiate without the support of a legal framework mandating equitable benefit sharing. Within the communities, individuals felt excluded from decision-making, and some believed that the San Hoodia Trust—established to manage and distribute benefits—had not sufficiently communicated the terms or implications of the agreement to the wider San population.</p>
<p>Beyond procedural issues, cultural and symbolic concerns also played a significant role. For the San, Hoodia is not merely a medicinal plant but a vital source of food, water, and energy deeply embedded in their cultural identity. Commercial cultivation and the transformation of the plant into pills and dietary supplements were viewed by some as stripping Hoodia of its traditional meaning and spiritual power, which is believed to be rooted in its natural habitat. Additionally, the exploitation of Indigenous knowledge by companies that marketed Hoodia-based products without consent or fair compensation further intensified discontent. Some products used the image and story of the San to promote their goods while bypassing the benefit-sharing agreement entirely. This unauthorized use disrespected San heritage and denied them rightful economic benefits. As highlighted in the case, one advertisement even criticized pharmaceutical companies for sidelining Indigenous peoples—while doing precisely that in its own marketing.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>Amusan, L. (2016). POLITICS OF BIOPIRACY: AN ADVENTURE INTO HOODIA/XHOBA PATENTING IN SOUTHERN AFRICA. African Journal of Traditional, Complementary, and Alternative Medicines, 14(1), 103–109. https://doi.org/10.21010/ajtcam.v14i1.11</p>
<p>Leveraging Economic Growth through Benefit Sharing. (n.d.). Ip-Advantage. Retrieved November 29, 2024, from https://www.wipo.int/web/ip-advantage/w/stories/leveraging-economic-growth-through-benefit-sharing</p>
<p>Wynberg, R., &amp; Chennells, R. (2009). Green diamonds of the South: An overview of the San-Hoodia Case. In Indigenous Peoples, consent and benefit sharing: Lessons from the San-Hoodia case (pp.&nbsp;89–124). Springer Netherlands.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>